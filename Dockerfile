FROM debian:buster-slim
ENV DEBIAN_FRONTEND noninteractive
ENV TERM xterm-256color

# apt stuff
RUN apt-get -y update \
    && apt-get install sudo \
	vim procps nmap openvpn telnet \
	iputils-ping iptables smbclient \
	ettercap-text-only -y \
    && apt-get -y autoremove \
    && apt-get clean

# create a new user
RUN adduser --quiet --disabled-password --shell /bin/bash --home /home/buster --gecos "User" buster
RUN echo "buster:buster" | chpasswd
RUN usermod -aG sudo buster

# switch to new user
USER buster
WORKDIR /home/buster

COPY *.ovpn enable-tunnel.sh ./
